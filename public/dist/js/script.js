function getDataBase(t){DATABASE.ref().on("value",function(a){var e=a.val();DBData=Object.keys(e).map(function(t){return{id:t,data:e[t]}}),t&&t(DBData)})}function pushData(t,a){firebase.database().ref().child("/").push({ja:a,ko:t})}function allTextTranslate(){$("[data-langtext]").each(function(){var t=$(this),a=$.trim(t.text()),e=getTextData(a);if(void 0===e){var n=a;translateAPI(n,function(a){pushData(n,a),t.text(a)})}else t.text(e.data.ja)})}function translateAPI(t,a){void 0===getTextData(t)&&$.ajax({type:"GET",beforeSend:function(t){t.setRequestHeader("content-type","text/javascript")},url:"/translate",data:{text:t},dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){var e=(t=JSON.parse(t)).message.result.translatedText;t.message.result.srcLangType;a&&a(e)}})}function getTextData(t){var a=DBData.filter(function(a){return a.data.ko===t});return 0===a.length&&(a=DBData.filter(function(a){return a.data.ja===t})),0!==a.length?a[0]:void 0}function translateInit(){getDataBase(function(){allTextTranslate()})}var DBData=void 0,config={apiKey:"AIzaSyCsH1pUNQ0HrEDPvHwFjOAzOcYgMmHRlKc",authDomain:"translate-c25e0.firebaseapp.com",databaseURL:"https://translate-c25e0.firebaseio.com",projectId:"translate-c25e0",storageBucket:"translate-c25e0.appspot.com",messagingSenderId:"756527365478"};firebase.initializeApp(config),DATABASE=firebase.database();
("undefined"==typeof global?window:global).mainUtils=mainUtils={common:{},constants:{},value:{},data:{},net:{},draw:{},func:{},modal:{},view:{},templates:{}};var modalScroll=null;$(window).load(function(){setTimeout(function(){$(".preloader").fadeOut("slow",function(){$(".preloader-left").addClass("slide-left"),$(".preloader-right").addClass("slide-right"),$("#portfolio-case").addClass("full-portfolio")})},300)}),$(".menu-item").on("click",function(){var e=$("#projects");e.isotope({masonry:{columnWidth:0},itemSelector:".project"}),$("#filters").on("click","li",function(){$("#filters li").removeClass("active"),$(this).addClass("active");var o=$(this).attr("data-filter");e.isotope({filter:o})})}),$(".open-project").on("click",function(e){e.preventDefault();$(this).attr("href");return"test",$("#project-modal").modal("show").find(".modal-content").load($(this).attr("href")),setTimeout(function(){modalScroll=new IScroll(".modal",{scrollbars:!0,mouseWheel:!0})},200),!1}),$(".open-post").on("click",function(){var e=$(this).attr("href");return $('<div class="modal" id="post-modal"><div class="inline-menu-container"><a id="modal-close" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></a></div><div class="modal-dialog"><div class="modal-content"></div></div></div>').modal({remote:e+" #post"}),!1}),mainUtils.common.menuClick=function(){$(".name-block").addClass("reverse"),$(".name-block-container").addClass("reverse"),$(".menu-blocks").addClass("hidex"),$(".inline-menu-container").removeClass("hidex"),$(".inline-menu-container").addClass("showx")},mainUtils.func.about=function(){mainUtils.common.menuClick(),$(".content-blocks").removeClass("showx"),$(".content-blocks").addClass("hidex"),$(".content-blocks.about").removeClass("hidex"),$(".content-blocks.about").addClass("showx"),$(".menu-item").removeClass("active"),$(".menu-item.about").addClass("active")},mainUtils.func.portfolio=function(){mainUtils.common.menuClick(),$(".content-blocks").removeClass("showx"),$(".content-blocks").addClass("hidex"),$(".content-blocks.portfolio").removeClass("hidex"),$(".content-blocks.portfolio").addClass("showx"),$(".menu-item").removeClass("active"),$(".menu-item.portfolio").addClass("active")},mainUtils.func.blog=function(){mainUtils.common.menuClick(),$(".content-blocks").removeClass("showx"),$(".content-blocks").addClass("hidex"),$(".content-blocks.blog").removeClass("hidex"),$(".content-blocks.blog").addClass("showx"),$(".menu-item").removeClass("active"),$(".menu-item.blog").addClass("active")},mainUtils.func.contact=function(){mainUtils.common.menuClick(),$(".content-blocks").removeClass("showx"),$(".content-blocks").addClass("hidex"),$(".content-blocks.contact").removeClass("hidex"),$(".content-blocks.contact").addClass("showx"),$(".menu-item").removeClass("active"),$(".menu-item.contact").addClass("active")},mainUtils.func.close=function(){$(".name-block").removeClass("reverse"),$(".name-block-container").removeClass("reverse"),$(".menu-blocks").removeClass("hidex"),$(".content-blocks").removeClass("showx"),$(".content-blocks").addClass("hidex"),$(".inline-menu-container").removeClass("showx"),$(".inline-menu-container").addClass("hidex"),$(".menu-item").removeClass("active")},$("input,textarea").on("focus",function(){$(this).data("placeholder",$(this).attr("placeholder")),$(this).attr("placeholder","")}),$("input,textarea").blur(function(){$(this).attr("placeholder",$(this).data("placeholder"))}),$("input, textarea").placeholder();